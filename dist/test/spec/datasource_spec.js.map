{"version":3,"file":"datasource_spec.js","names":["_module","require","_q","_interopRequireDefault","obj","__esModule","describe","ctx","beforeEach","$q","Q","backendSrv","templateSrv","jsonData","mongodb_url","mongodb_db","ds","Datasource","it","done","query","targets","then","result","expect","data","to","have","length","datasourceRequest","request","when","_request","target","datapoints","replace","db","url","equal","series","metricFindQuery","text","value","mapToTextValue","a","b"],"sources":["../../../spec/datasource_spec.js"],"sourcesContent":["import {Datasource} from \"../module\";\nimport Q from \"q\";\n\ndescribe('GenericDatasource', function() {\n    var ctx = {};\n\n    beforeEach(function() {\n        ctx.$q = Q;\n        ctx.backendSrv = {};\n        ctx.templateSrv = {};\n        var jsonData = { mongodb_url : 'mongodb://localhost:27017', mongodb_db : 'test_db' }\n        ctx.ds = new Datasource({jsonData : jsonData}, ctx.$q, ctx.backendSrv, ctx.templateSrv);\n    });\n\n    it('should return an empty array when no targets are set', function(done) {\n        ctx.ds.query({targets: []}).then(function(result) {\n            expect(result.data).to.have.length(0);\n            done();\n        });\n    });\n\n    it('should return the server results when a target is set', function(done) {\n        ctx.backendSrv.datasourceRequest = function(request) {\n            return ctx.$q.when({\n                _request: request,\n                data: [\n                    {\n                        target: 'X',\n                        datapoints: [1, 2, 3]\n                    }\n                ]\n            });\n        };\n\n        ctx.templateSrv.replace = function(data) {\n          return data;\n        }\n\n        ctx.ds.query({targets: ['hits']}).then(function(result) {\n            expect(result._request.data.targets).to.have.length(1);\n            expect(result._request.data.db.url).to.equal('mongodb://localhost:27017');\n            expect(result._request.data.db.db).to.equal('test_db');\n\n            var series = result.data[0];\n            expect(series.target).to.equal('X');\n            expect(series.datapoints).to.have.length(3);\n            done();\n        });\n    });\n\n    it ('should return the metric results when a target is null', function(done) {\n        ctx.backendSrv.datasourceRequest = function(request) {\n            return ctx.$q.when({\n                _request: request,\n                data: [\n                    \"metric_0\",\n                    \"metric_1\",\n                    \"metric_2\",\n                ]\n            });\n        };\n\n        ctx.templateSrv.replace = function(data) {\n            return data;\n        }\n\n        ctx.ds.metricFindQuery({target: null}).then(function(result) {\n            expect(result).to.have.length(3);\n            expect(result[0].text).to.equal('metric_0');\n            expect(result[0].value).to.equal('metric_0');\n            expect(result[1].text).to.equal('metric_1');\n            expect(result[1].value).to.equal('metric_1');\n            expect(result[2].text).to.equal('metric_2');\n            expect(result[2].value).to.equal('metric_2');\n            done();\n        });\n    });\n\n    it ('should return the metric target results when a target is set', function(done) {\n        ctx.backendSrv.datasourceRequest = function(request) {\n            var target = request.data.target;\n            var result = [target + \"_0\", target + \"_1\", target + \"_2\"];\n\n            return ctx.$q.when({\n                _request: request,\n                data: result\n            });\n        };\n\n        ctx.templateSrv.replace = function(data) {\n            return data;\n        }\n\n        ctx.ds.metricFindQuery('search').then(function(result) {\n            expect(result).to.have.length(3);\n            expect(result[0].text).to.equal('search_0');\n            expect(result[0].value).to.equal('search_0');\n            expect(result[1].text).to.equal('search_1');\n            expect(result[1].value).to.equal('search_1');\n            expect(result[2].text).to.equal('search_2');\n            expect(result[2].value).to.equal('search_2');\n            done();\n        });\n    });\n\n    it ('should return the metric results when the target is an empty string', function(done) {\n        ctx.backendSrv.datasourceRequest = function(request) {\n            return ctx.$q.when({\n                _request: request,\n                data: [\n                    \"metric_0\",\n                    \"metric_1\",\n                    \"metric_2\",\n                ]\n            });\n        };\n\n        ctx.templateSrv.replace = function(data) {\n            return data;\n        }\n\n        ctx.ds.metricFindQuery('').then(function(result) {\n            expect(result).to.have.length(3);\n            expect(result[0].text).to.equal('metric_0');\n            expect(result[0].value).to.equal('metric_0');\n            expect(result[1].text).to.equal('metric_1');\n            expect(result[1].value).to.equal('metric_1');\n            expect(result[2].text).to.equal('metric_2');\n            expect(result[2].value).to.equal('metric_2');\n            done();\n        });\n    });\n\n    it ('should return the metric results when the args are an empty object', function(done) {\n        ctx.backendSrv.datasourceRequest = function(request) {\n            return ctx.$q.when({\n                _request: request,\n                data: [\n                    \"metric_0\",\n                    \"metric_1\",\n                    \"metric_2\",\n                ]\n            });\n        };\n\n        ctx.templateSrv.replace = function(data) {\n            return data;\n        }\n\n        ctx.ds.metricFindQuery().then(function(result) {\n            expect(result).to.have.length(3);\n            expect(result[0].text).to.equal('metric_0');\n            expect(result[0].value).to.equal('metric_0');\n            expect(result[1].text).to.equal('metric_1');\n            expect(result[1].value).to.equal('metric_1');\n            expect(result[2].text).to.equal('metric_2');\n            expect(result[2].value).to.equal('metric_2');\n            done();\n        });\n    });\n\n    it ('should return the metric target results when the args are a string', function(done) {\n        ctx.backendSrv.datasourceRequest = function(request) {\n            var target = request.data.target;\n            var result = [target + \"_0\", target + \"_1\", target + \"_2\"];\n\n            return ctx.$q.when({\n                _request: request,\n                data: result\n            });\n        };\n\n        ctx.templateSrv.replace = function(data) {\n            return data;\n        }\n\n        ctx.ds.metricFindQuery('search').then(function(result) {\n            expect(result).to.have.length(3);\n            expect(result[0].text).to.equal('search_0');\n            expect(result[0].value).to.equal('search_0');\n            expect(result[1].text).to.equal('search_1');\n            expect(result[1].value).to.equal('search_1');\n            expect(result[2].text).to.equal('search_2');\n            expect(result[2].value).to.equal('search_2');\n            done();\n        });\n    });\n\n    it ('should return data as text and as value', function(done) {\n        var result = ctx.ds.mapToTextValue({data: [\"zero\", \"one\", \"two\"]});\n\n        expect(result).to.have.length(3);\n        expect(result[0].text).to.equal('zero');\n        expect(result[0].value).to.equal('zero');\n        expect(result[1].text).to.equal('one');\n        expect(result[1].value).to.equal('one');\n        expect(result[2].text).to.equal('two');\n        expect(result[2].value).to.equal('two');\n        done();\n    });\n\n    it ('should return text as text and value as value', function(done) {\n        var data = [\n            {text: \"zero\", value: \"value_0\"},\n            {text: \"one\", value: \"value_1\"},\n            {text: \"two\", value: \"value_2\"},\n        ];\n\n        var result = ctx.ds.mapToTextValue({data: data});\n\n        expect(result).to.have.length(3);\n        expect(result[0].text).to.equal('zero');\n        expect(result[0].value).to.equal('value_0');\n        expect(result[1].text).to.equal('one');\n        expect(result[1].value).to.equal('value_1');\n        expect(result[2].text).to.equal('two');\n        expect(result[2].value).to.equal('value_2');\n        done();\n    });\n\n    it ('should return data as text and index as value', function(done) {\n        var data = [\n            {a: \"zero\", b: \"value_0\"},\n            {a: \"one\", b: \"value_1\"},\n            {a: \"two\", b: \"value_2\"},\n        ];\n\n        var result = ctx.ds.mapToTextValue({data: data});\n\n        expect(result).to.have.length(3);\n        expect(result[0].text).to.equal(data[0]);\n        expect(result[0].value).to.equal(0);\n        expect(result[1].text).to.equal(data[1]);\n        expect(result[1].value).to.equal(1);\n        expect(result[2].text).to.equal(data[2]);\n        expect(result[2].value).to.equal(2);\n        done();\n    });\n});\n"],"mappings":"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"}